<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ë¶€ ë…¸í›„ìê¸ˆ ì‹œë®¬ë ˆì´ì…˜</title>
    <!-- Tailwind CSS (ë””ìì¸ìš©) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js (ê·¸ë˜í”„ìš©) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ìŠ¬ë¼ì´ë” ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        input[type=range] {
            -webkit-appearance: none; 
            width: 100%; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #4F46E5;
            cursor: pointer;
            margin-top: -6px; 
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #E5E7EB;
            border-radius: 2px;
        }
        input[type=number]:focus {
            outline: 2px solid #4F46E5;
            outline-offset: 1px;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans p-4 md:p-8">

    <div class="max-w-6xl mx-auto">
        <!-- í—¤ë” -->
        <header class="mb-8 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-700 mb-2">ğŸ’° ë¶€ë¶€ ë…¸í›„ìê¸ˆ ì‹œë®¬ë ˆì´ì…˜</h1>
            <p class="text-slate-500">í˜„ì¬ ìì‚°ê³¼ ì €ì¶• ê³„íšìœ¼ë¡œ í–‰ë³µí•œ ë…¸í›„ê°€ ê°€ëŠ¥í• ê¹Œìš”? ì§€ê¸ˆ í™•ì¸í•´ë³´ì„¸ìš”.</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <!-- ì™¼ìª½: ì…ë ¥ íŒ¨ë„ -->
            <div class="lg:col-span-4 space-y-6 bg-white p-6 rounded-2xl shadow-lg border border-slate-100">
                <h2 class="text-xl font-semibold border-b pb-2 mb-4">ğŸ“ ì •ë³´ ì…ë ¥</h2>

                <!-- ì…ë ¥ í•­ëª© ì»´í¬ë„ŒíŠ¸ë“¤ -->
                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">í˜„ì¬ ë‚˜ì´ (ë¶€ë¶€ í‰ê· )</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="currentAgeRange" min="20" max="80" value="40" class="flex-1">
                        <input type="number" id="currentAge" min="20" max="80" value="40" class="w-20 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm">ì„¸</span>
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">ì€í‡´ ì˜ˆì • ë‚˜ì´</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="retireAgeRange" min="40" max="90" value="65" class="flex-1">
                        <input type="number" id="retireAge" min="40" max="90" value="65" class="w-20 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm">ì„¸</span>
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">ì˜ˆìƒ ìˆ˜ëª…</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="lifeAgeRange" min="70" max="120" value="95" class="flex-1">
                        <input type="number" id="lifeAge" min="70" max="120" value="95" class="w-20 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm">ì„¸</span>
                    </div>
                </div>

                <hr class="border-slate-100">

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">í˜„ì¬ ëª¨ì€ ìì‚° (ë‹¨ìœ„: ë§Œì›)</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="currentAssetRange" min="0" max="500000" step="1000" value="10000" class="flex-1">
                        <input type="number" id="currentAsset" min="0" value="10000" class="w-24 p-2 border rounded text-right bg-slate-50">
                    </div>
                    <p class="text-xs text-slate-400 text-right mt-1" id="currentAssetText">1ì–µì›</p>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">ë§¤ì›” ì €ì¶•ì•¡ (ì€í‡´ ì „ê¹Œì§€)</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="monthlySavingRange" min="0" max="2000" step="10" value="200" class="flex-1">
                        <input type="number" id="monthlySaving" min="0" value="200" class="w-24 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm w-8">ë§Œì›</span>
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">ë¶€ë¶€ ì˜ˆìƒ ë…¸ë ¹ì—°ê¸ˆ (ì›” ìˆ˜ë ¹ì•¡)</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="pensionRange" min="0" max="500" step="10" value="100" class="flex-1">
                        <input type="number" id="pension" min="0" value="100" class="w-24 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm w-8">ë§Œì›</span>
                    </div>
                    <p class="text-xs text-indigo-500 mt-1">* ì€í‡´ ì‹œì ë¶€í„° ìˆ˜ë ¹í•˜ë©°, ë¬¼ê°€ìƒìŠ¹ë§Œí¼ ì¸ìƒëœë‹¤ê³  ê°€ì •</p>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-medium text-slate-700 mb-1">ì€í‡´ í›„ í¬ë§ ì›” ìƒí™œë¹„ (í˜„ì¬ê°€ì¹˜)</label>
                    <div class="flex items-center gap-2">
                        <input type="range" id="monthlySpendingRange" min="100" max="1000" step="10" value="300" class="flex-1">
                        <input type="number" id="monthlySpending" min="0" value="300" class="w-24 p-2 border rounded text-right bg-slate-50">
                        <span class="text-sm w-8">ë§Œì›</span>
                    </div>
                    <p class="text-xs text-indigo-500 mt-1">* ë¬¼ê°€ìƒìŠ¹ë¥  ë°˜ì˜í•˜ì—¬ ë¯¸ë˜ ê¸ˆì•¡ìœ¼ë¡œ ìë™ ê³„ì‚°ë¨</p>
                </div>

                <hr class="border-slate-100">

                <div class="grid grid-cols-2 gap-4">
                    <div class="input-group">
                        <label class="block text-sm font-medium text-slate-700 mb-1">íˆ¬ì ìˆ˜ìµë¥  (%)</label>
                        <input type="number" id="returnRate" step="0.1" value="5.0" class="w-full p-2 border rounded text-center bg-slate-50">
                    </div>
                    <div class="input-group">
                        <label class="block text-sm font-medium text-slate-700 mb-1">ë¬¼ê°€ ìƒìŠ¹ë¥  (%)</label>
                        <input type="number" id="inflationRate" step="0.1" value="2.5" class="w-full p-2 border rounded text-center bg-slate-50">
                    </div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½: ê²°ê³¼ íŒ¨ë„ -->
            <div class="lg:col-span-8 space-y-6">
                
                <!-- ìš”ì•½ ì¹´ë“œ -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-indigo-600 text-white p-6 rounded-2xl shadow-lg">
                        <h3 class="text-indigo-200 text-sm font-medium mb-1">ì€í‡´ ì‹œì  ì˜ˆìƒ ìì‚°</h3>
                        <p class="text-3xl font-bold" id="assetAtRetirement">0ì›</p>
                        <p class="text-indigo-200 text-sm mt-2">ì€í‡´ ë‚˜ì´: <span id="displayRetireAge">65</span>ì„¸</p>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100" id="statusCard">
                        <h3 class="text-slate-500 text-sm font-medium mb-1">ìì‚° ê³ ê°ˆ ì˜ˆìƒ ì‹œê¸°</h3>
                        <p class="text-3xl font-bold text-slate-800" id="depletionAge">ê³„ì‚° ì¤‘...</p>
                        <p class="text-sm mt-2" id="statusMessage">ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
                    </div>
                </div>

                <!-- ì°¨íŠ¸ ì˜ì—­ -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 h-[400px] relative">
                    <canvas id="wealthChart"></canvas>
                </div>

                <!-- ìƒì„¸ ë¶„ì„ í…ìŠ¤íŠ¸ -->
                <div class="bg-orange-50 p-6 rounded-2xl border border-orange-100 text-sm text-slate-700">
                    <h4 class="font-bold text-orange-800 mb-2">ğŸ’¡ ë¶„ì„ ë¦¬í¬íŠ¸</h4>
                    <p id="analysisText" class="leading-relaxed">
                        ë°ì´í„°ë¥¼ ì…ë ¥í•˜ë©´ ë¶„ì„ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const inputs = {
            currentAge: document.getElementById('currentAge'),
            retireAge: document.getElementById('retireAge'),
            lifeAge: document.getElementById('lifeAge'),
            currentAsset: document.getElementById('currentAsset'),
            monthlySaving: document.getElementById('monthlySaving'),
            pension: document.getElementById('pension'),
            monthlySpending: document.getElementById('monthlySpending'),
            returnRate: document.getElementById('returnRate'),
            inflationRate: document.getElementById('inflationRate')
        };

        // ìŠ¬ë¼ì´ë” ì—°ê²°ì„ ìœ„í•œ ë§¤í•‘
        const ranges = {
            currentAge: document.getElementById('currentAgeRange'),
            retireAge: document.getElementById('retireAgeRange'),
            lifeAge: document.getElementById('lifeAgeRange'),
            currentAsset: document.getElementById('currentAssetRange'),
            monthlySaving: document.getElementById('monthlySavingRange'),
            pension: document.getElementById('pensionRange'),
            monthlySpending: document.getElementById('monthlySpendingRange')
        };

        // ê²°ê³¼ í‘œì‹œ ìš”ì†Œ (ì´ ë¶€ë¶„ì´ ëˆ„ë½ë˜ì—ˆì—ˆìŠµë‹ˆë‹¤)
        const outputs = {
            assetAtRetirement: document.getElementById('assetAtRetirement'),
            displayRetireAge: document.getElementById('displayRetireAge'),
            depletionAge: document.getElementById('depletionAge'),
            statusMessage: document.getElementById('statusMessage'),
            statusCard: document.getElementById('statusCard'),
            currentAssetText: document.getElementById('currentAssetText'),
            analysisText: document.getElementById('analysisText')
        };

        let myChart = null;

        // 2. ìˆ«ì í¬ë§·íŒ… ìœ í‹¸ë¦¬í‹° (í•œêµ­ì‹ 'ì–µ', 'ë§Œ' ë‹¨ìœ„)
        function formatKoreanNumber(number) {
            if (number < 0) return "-" + formatKoreanNumber(-number);
            const uk = Math.floor(number / 10000);
            const man = Math.round(number % 10000);
            
            let result = "";
            if (uk > 0) result += `${uk.toLocaleString()}ì–µ `;
            if (man > 0) result += `${man.toLocaleString()}ë§Œì›`;
            if (result === "") result = "0ì›";
            return result;
        }

        // 3. ê³„ì‚° ë° ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ë¡œì§ (í•µì‹¬)
        function calculateAndDraw() {
            // ê°’ ê°€ì ¸ì˜¤ê¸°
            const currentAge = parseInt(inputs.currentAge.value);
            const retireAge = parseInt(inputs.retireAge.value);
            const lifeAge = parseInt(inputs.lifeAge.value);
            const startAsset = parseInt(inputs.currentAsset.value); // ë§Œì› ë‹¨ìœ„
            const monthlySaving = parseInt(inputs.monthlySaving.value); // ë§Œì› ë‹¨ìœ„
            const monthlyPension = parseInt(inputs.pension.value); // ì¶”ê°€: ì›” ì—°ê¸ˆì•¡
            const baseMonthlySpending = parseInt(inputs.monthlySpending.value); // í˜„ì¬ê°€ì¹˜ ë§Œì›
            const rRate = parseFloat(inputs.returnRate.value) / 100; // ì—° ìˆ˜ìµë¥ 
            const iRate = parseFloat(inputs.inflationRate.value) / 100; // ì—° ë¬¼ê°€ìƒìŠ¹ë¥ 

            // ì…ë ¥ê°’ ê²€ì¦ (ê°„ë‹¨)
            if (retireAge <= currentAge) {
                // ì€í‡´ë‚˜ì´ê°€ í˜„ì¬ë‚˜ì´ë³´ë‹¤ ì‘ìœ¼ë©´ ì°¨íŠ¸ ê°±ì‹  ì¤‘ë‹¨í•˜ì§€ ì•Šê³  ë¡œì§ ì²˜ë¦¬í•˜ê±°ë‚˜ ê²½ê³ 
            }

            // ì‹œë®¬ë ˆì´ì…˜ ë°ì´í„° ìƒì„±
            let labels = [];
            let data = [];
            let currentMoney = startAsset;
            let retirementMoney = 0;
            let depletionYear = null;
            
            // í˜„ì¬ í•„ìš” ìƒí™œë¹„ê°€ ì€í‡´ ì‹œì ì—” ì–¼ë§ˆê°€ ë ê¹Œ? (ë³µë¦¬ ì ìš©)
            // ë§¤ë…„ ë¬¼ê°€ìƒìŠ¹ë¥  ë°˜ì˜
            
            let age = currentAge;
            // ì›” ë‹¨ìœ„ ì‹œë®¬ë ˆì´ì…˜
            const totalMonths = (lifeAge - currentAge) * 12;
            
            // ë°ì´í„° í¬ì¸íŠ¸ ì¤„ì´ê¸° ìœ„í•´ 1ë…„ ë‹¨ìœ„ë¡œ ë°°ì—´ì— ì €ì¥
            for (let i = 0; i <= lifeAge - currentAge; i++) {
                labels.push((currentAge + i) + "ì„¸");
                data.push(Math.round(currentMoney));
                
                // ì€í‡´ ì‹œì  ìì‚° ê¸°ë¡
                if (currentAge + i === retireAge) {
                    retirementMoney = currentMoney;
                }

                // ê³ ê°ˆ ì‹œì  ì²´í¬ (ìµœì´ˆ 1íšŒë§Œ)
                if (currentMoney < 0 && depletionYear === null) {
                    depletionYear = currentAge + i;
                }

                // 1ë…„ì¹˜ ì‹œë®¬ë ˆì´ì…˜ (ì›”ë³„ ê³„ì‚°ì˜ í•©)
                for (let m = 0; m < 12; m++) {
                    const thisAge = currentAge + i;
                    
                    // 1. íˆ¬ì ìˆ˜ìµ (ì›” ë³µë¦¬ ê°€ì •)
                    currentMoney = currentMoney * (1 + rRate / 12);

                    if (thisAge < retireAge) {
                        // ìì‚° ì¶•ì ê¸°
                        currentMoney += monthlySaving;
                    } else {
                        // ìì‚° ì¸ì¶œê¸°
                        // ë¬¼ê°€ìƒìŠ¹ë¥  ë°˜ì˜ëœ ìƒí™œë¹„ ê³„ì‚°
                        // (í˜„ì¬ë¡œë¶€í„° ëª‡ ë…„ ì§€ë‚¬ëŠ”ì§€ì— ë”°ë¼ ì¸í”Œë ˆì´ì…˜ ì ìš©)
                        const yearsPassed = (thisAge - currentAge);
                        
                        // ì§€ì¶œ (ë¬¼ê°€ìƒìŠ¹ ë°˜ì˜)
                        const inflatedSpending = baseMonthlySpending * Math.pow(1 + iRate, yearsPassed);
                        
                        // ìˆ˜ì…: ì—°ê¸ˆ (ë¬¼ê°€ìƒìŠ¹ ë°˜ì˜ - êµ­ë¯¼ì—°ê¸ˆì€ ë¬¼ê°€ì—°ë™ì´ë¯€ë¡œ ì‹¤ì§ˆê°€ì¹˜ ë³´ì¡´ì„ ìœ„í•´ ê°™ì´ ì˜¬ë¦¼)
                        const inflatedPension = monthlyPension * Math.pow(1 + iRate, yearsPassed);

                        // ìˆœì§€ì¶œ = ìƒí™œë¹„ - ì—°ê¸ˆ
                        // ì—°ê¸ˆì´ ìƒí™œë¹„ë³´ë‹¤ ë§ìœ¼ë©´ ìì‚°ì´ ì˜¤íˆë ¤ ëŠ˜ì–´ë‚¨
                        currentMoney -= (inflatedSpending - inflatedPension);
                    }
                }
            }

            // 4. ê²°ê³¼ UI ì—…ë°ì´íŠ¸
            if (outputs.assetAtRetirement) outputs.assetAtRetirement.innerText = formatKoreanNumber(retirementMoney);
            if (outputs.displayRetireAge) outputs.displayRetireAge.innerText = retireAge;
            if (outputs.currentAssetText) outputs.currentAssetText.innerText = formatKoreanNumber(startAsset);

            if (depletionYear) {
                outputs.depletionAge.innerText = `${depletionYear}ì„¸ ê²½`;
                outputs.statusMessage.innerText = "ìì‚°ì´ ê³ ê°ˆë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.";
                outputs.statusMessage.className = "text-sm mt-2 text-red-600 font-bold";
                outputs.statusCard.className = "bg-red-50 p-6 rounded-2xl shadow-lg border border-red-100";
            } else {
                outputs.depletionAge.innerText = "ì•ˆì „í•¨";
                outputs.statusMessage.innerText = `${lifeAge}ì„¸ê¹Œì§€ ìì‚°ì´ ìœ ì§€ë©ë‹ˆë‹¤.`;
                outputs.statusMessage.className = "text-sm mt-2 text-green-600 font-bold";
                outputs.statusCard.className = "bg-green-50 p-6 rounded-2xl shadow-lg border border-green-100";
            }

            // ë¶„ì„ í…ìŠ¤íŠ¸ ìƒì„±
            const monthlySpendingAtRetirement = baseMonthlySpending * Math.pow(1 + iRate, (retireAge - currentAge));
            const pensionAtRetirement = monthlyPension * Math.pow(1 + iRate, (retireAge - currentAge)); // ì€í‡´ ì‹œì  ì—°ê¸ˆì•¡
            
            outputs.analysisText.innerHTML = `
                í˜„ì¬ <strong>${currentAge}ì„¸</strong>ì¸ ë¶€ë¶€ê°€ <strong>${retireAge}ì„¸</strong>ì— ì€í‡´í•  ê²½ìš°, 
                ë¬¼ê°€ìƒìŠ¹ë¥ (${inputs.inflationRate.value}%)ì„ ê°ì•ˆí–ˆì„ ë•Œ ì€í‡´ ì²« í•´ì˜ ì›” ìƒí™œë¹„ëŠ” 
                <strong>ì•½ ${Math.round(monthlySpendingAtRetirement).toLocaleString()}ë§Œì›</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤.<br><br>
                
                ì´ ì¤‘ <strong>ì•½ ${Math.round(pensionAtRetirement).toLocaleString()}ë§Œì›</strong>ì€ ì—°ê¸ˆìœ¼ë¡œ ì¶©ë‹¹ë˜ë¯€ë¡œ, 
                ì‹¤ì œ ìì‚°ì—ì„œ êº¼ë‚´ì•¼ í•  ëˆì€ ì›” <strong>ì•½ ${Math.round(monthlySpendingAtRetirement - pensionAtRetirement).toLocaleString()}ë§Œì›</strong> ìˆ˜ì¤€ì…ë‹ˆë‹¤.
                
                ${depletionYear ? 
                    `<br><br>í˜„ì¬ ê³„íšëŒ€ë¡œë¼ë©´ <strong>${depletionYear}ì„¸</strong>ì— ìì‚°ì´ ë°”ë‹¥ë‚©ë‹ˆë‹¤. ì €ì¶•ì•¡ì„ ëŠ˜ë¦¬ê±°ë‚˜ ìˆ˜ìµë¥ ì„ ë†’ì—¬ì•¼ í•©ë‹ˆë‹¤.` : 
                    `<br><br>ë§¤ìš° í›Œë¥­í•œ ê³„íšì…ë‹ˆë‹¤! ì˜ˆìƒ ìˆ˜ëª…ì¸ <strong>${lifeAge}ì„¸</strong>ê¹Œì§€ ìì‚°ì´ ì¶©ë¶„íˆ ìœ ì§€ë©ë‹ˆë‹¤.`}
            `;


            // 5. ì°¨íŠ¸ ê·¸ë¦¬ê¸°
            if (myChart) myChart.destroy();

            const ctx = document.getElementById('wealthChart').getContext('2d');
            
            // ê·¸ë¼ë°ì´ì…˜ íš¨ê³¼
            const gradient = ctx.createLinearGradient(0, 0, 0, 400);
            gradient.addColorStop(0, 'rgba(79, 70, 229, 0.2)');
            gradient.addColorStop(1, 'rgba(79, 70, 229, 0)');

            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ì´ ìì‚° ì˜ˆì¸¡ (ë§Œì›)',
                        data: data,
                        borderColor: '#4F46E5', // indigo-600
                        backgroundColor: gradient,
                        borderWidth: 3,
                        pointRadius: 0, // í¬ì¸íŠ¸ ìˆ¨ê¹€ (ê¹”ë”í•˜ê²Œ)
                        pointHoverRadius: 6,
                        fill: true,
                        tension: 0.4 // ë¶€ë“œëŸ¬ìš´ ê³¡ì„ 
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `ìì‚°: ${formatKoreanNumber(context.raw)}`;
                                }
                            }
                        },
                        annotation: { // 0ì› ê¸°ì¤€ì„  (í”ŒëŸ¬ê·¸ì¸ ì—†ì–´ë„ gridë¡œ ëŒ€ì²´)
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: { color: '#f3f4f6' },
                            ticks: {
                                callback: function(value) {
                                    return Math.floor(value / 10000) + 'ì–µ';
                                }
                            }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // 6. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ (ì…ë ¥ê°’ ë³€ê²½ ì‹œ ìë™ ê³„ì‚°)
        // ìŠ¬ë¼ì´ë” <-> ìˆ«ìì…ë ¥ ë™ê¸°í™” ë° ê³„ì‚° ì‹¤í–‰
        Object.keys(inputs).forEach(key => {
            const input = inputs[key];
            const range = ranges[key];

            // ìˆ«ì ì…ë ¥ ì‹œ
            if(input) {
                input.addEventListener('input', () => {
                    if(range) range.value = input.value;
                    calculateAndDraw();
                });
            }

            // ìŠ¬ë¼ì´ë” ì¡°ì‘ ì‹œ
            if (range) {
                range.addEventListener('input', () => {
                    input.value = range.value;
                    calculateAndDraw();
                });
            }
        });

        // ì´ˆê¸° ì‹¤í–‰
        calculateAndDraw();

    </script>
</body>
</html>
